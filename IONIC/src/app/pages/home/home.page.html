<app-header></app-header>

<ion-content class="ion-padding">
  <div class="main-container">
    <div class="sidebar">
      <ion-card>
        <ion-card-header>
          <ion-card-title>Horas reservadas</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ng-container *ngIf="reservedHours.length > 0; else noCitas">
            <ion-grid>
              <ion-row>
                <ion-col size="4"><strong>Fecha</strong></ion-col>
                <ion-col size="4"><strong>Hora</strong></ion-col>
                <ion-col size="4" class="ion-text-center"><strong>Acciones</strong></ion-col>
              </ion-row>
              <ion-row *ngFor="let hour of reservedHours; let i = index">
                <ion-col size="4">{{ hour.fecha }}</ion-col>
                <ion-col size="4">{{ hour.hora }}</ion-col>
                <ion-col size="4" class="ion-text-center">
                  <ion-button class="responsive-cancel-button" (click)="cancelReservation(hour.idCita)">
                    Cancelar
                  </ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ng-container>
          <ng-template #noCitas>
            <p>Aún no hay citas reservadas.</p>
          </ng-template>
        </ion-card-content>
      </ion-card>
    </div>
    <div class="content">
      <ion-card>
        <ion-card-header>
          <ion-card-title class="ion-text-center">Bienvenido {{ nombre }} {{ apellido }}</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ion-button expand="block" class="home-button ion-margin-top" (click)="navigateToPage('/agendar-cita')">Agendar nueva hora</ion-button>
          <ion-button expand="block" class="home-button ion-margin-top" (click)="navigateToPage('/ver-examen')">Ver mis exámenes</ion-button>
        </ion-card-content>
      </ion-card>
    </div>
  </div>
</ion-content>


